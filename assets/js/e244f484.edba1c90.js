"use strict";(self.webpackChunkinterview_doc=self.webpackChunkinterview_doc||[]).push([[5049],{3905:function(t,e,n){n.d(e,{Zo:function(){return p},kt:function(){return d}});var a=n(7294);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var l=a.createContext({}),c=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},p=function(t){var e=c(t.components);return a.createElement(l.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(t,e){var n=t.components,i=t.mdxType,o=t.originalType,l=t.parentName,p=r(t,["components","mdxType","originalType","parentName"]),u=c(n),d=i,v=u["".concat(l,".").concat(d)]||u[d]||m[d]||o;return n?a.createElement(v,s(s({ref:e},p),{},{components:n})):a.createElement(v,s({ref:e},p))}));function d(t,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var o=n.length,s=new Array(o);s[0]=u;var r={};for(var l in e)hasOwnProperty.call(e,l)&&(r[l]=e[l]);r.originalType=t,r.mdxType="string"==typeof t?t:i,s[1]=r;for(var c=2;c<o;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8215:function(t,e,n){n.d(e,{Z:function(){return i}});var a=n(7294);function i(t){var e=t.children,n=t.hidden,i=t.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:i},e)}},9877:function(t,e,n){n.d(e,{Z:function(){return p}});var a=n(7462),i=n(7294),o=n(2389),s=n(3725),r=n(6010),l="tabItem_LplD";function c(t){var e,n,o,c=t.lazy,p=t.block,m=t.defaultValue,u=t.values,d=t.groupId,v=t.className,h=i.Children.map(t.children,(function(t){if((0,i.isValidElement)(t)&&void 0!==t.props.value)return t;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof t.type?t.type:t.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=u?u:h.map((function(t){var e=t.props;return{value:e.value,label:e.label,attributes:e.attributes}})),g=(0,s.lx)(k,(function(t,e){return t.value===e.value}));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((function(t){return t.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var f=null===m?m:null!=(e=null!=m?m:null==(n=h.find((function(t){return t.props.default})))?void 0:n.props.value)?e:null==(o=h[0])?void 0:o.props.value;if(null!==f&&!k.some((function(t){return t.value===f})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+f+'" but none of its children has the corresponding value. Available values are: '+k.map((function(t){return t.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var N=(0,s.UB)(),b=N.tabGroupChoices,w=N.setTabGroupChoices,x=(0,i.useState)(f),y=x[0],C=x[1],S=[],D=(0,s.o5)().blockElementScrollPositionUntilNextRender;if(null!=d){var T=b[d];null!=T&&T!==y&&k.some((function(t){return t.value===T}))&&C(T)}var j=function(t){var e=t.currentTarget,n=S.indexOf(e),a=k[n].value;a!==y&&(D(e),C(a),null!=d&&w(d,a))},E=function(t){var e,n=null;switch(t.key){case"ArrowRight":var a=S.indexOf(t.currentTarget)+1;n=S[a]||S[0];break;case"ArrowLeft":var i=S.indexOf(t.currentTarget)-1;n=S[i]||S[S.length-1]}null==(e=n)||e.focus()};return i.createElement("div",{className:"tabs-container"},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":p},v)},k.map((function(t){var e=t.value,n=t.label,o=t.attributes;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:y===e?0:-1,"aria-selected":y===e,key:e,ref:function(t){return S.push(t)},onKeyDown:E,onFocus:j,onClick:j},o,{className:(0,r.Z)("tabs__item",l,null==o?void 0:o.className,{"tabs__item--active":y===e})}),null!=n?n:e)}))),c?(0,i.cloneElement)(h.filter((function(t){return t.props.value===y}))[0],{className:"margin-vert--md"}):i.createElement("div",{className:"margin-vert--md"},h.map((function(t,e){return(0,i.cloneElement)(t,{key:e,hidden:t.props.value!==y})}))))}function p(t){var e=(0,o.Z)();return i.createElement(c,(0,a.Z)({key:String(e)},t))}},5214:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return c},contentTitle:function(){return p},metadata:function(){return m},assets:function(){return u},toc:function(){return d},default:function(){return h}});var a=n(7462),i=n(3366),o=(n(7294),n(3905)),s=n(9877),r=n(8215),l=["components"],c={sidebar_position:1},p="\u57fa\u7840\u8bed\u6cd5",m={unversionedId:"interview-framework/react/app/basic",id:"interview-framework/react/app/basic",title:"\u57fa\u7840\u8bed\u6cd5",description:"JSX\u8bed\u6cd5",source:"@site/docs/interview-framework/react/app/basic.md",sourceDirName:"interview-framework/react/app",slug:"/interview-framework/react/app/basic",permalink:"/docusaurus/docs/interview-framework/react/app/basic",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Vite",permalink:"/docusaurus/docs/interview-framework/vue/vue3/components"},next:{title:"\u9ad8\u7ea7\u7279\u6027",permalink:"/docusaurus/docs/interview-framework/react/app/advanced"}},u={},d=[{value:"JSX\u8bed\u6cd5",id:"syntax",level:2},{value:"\u5224\u65ad\u6761\u4ef6",id:"\u5224\u65ad\u6761\u4ef6",level:2},{value:"\u5217\u8868\u6e32\u67d3",id:"\u5217\u8868\u6e32\u67d3",level:2},{value:"\u4e8b\u4ef6",id:"event",level:2},{value:"\u8868\u5355",id:"\u8868\u5355",level:2},{value:"\u7ec4\u4ef6\u548cprops",id:"props",level:2},{value:"state / setState \u6700\u91cd\u8981",id:"setState",level:2},{value:"\u7ec4\u4ef6\u751f\u547d\u5468\u671f",id:"lifecycle",level:2}],v={toc:d};function h(t){var e=t.components,c=(0,i.Z)(t,l);return(0,o.kt)("wrapper",(0,a.Z)({},v,c,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"\u57fa\u7840\u8bed\u6cd5"},"\u57fa\u7840\u8bed\u6cd5"),(0,o.kt)("h2",{id:"syntax"},"JSX\u8bed\u6cd5"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docusaurus/docs/interview-framework/vue/app/basic#syntax"},"\u5bf9\u6bd4vue"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='JSXBaseDemo.js'",title:"'JSXBaseDemo.js'"},"import React from \"react\";\nimport List from \"./ListDemo\"; // 7 \u5f15\u5165\u7ec4\u4ef6\n\nclass JSXBaseDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\u53cc\u8d8a-imooc\u8001\u5e08\",\n      imgUrl: \"https://img1.mukewang.com/5a9fc8070001a82402060220-140-140.jpg\",\n      flag: true,\n    };\n  }\n  render() {\n    // 1 \u83b7\u53d6\u53d8\u91cf \u63d2\u503c\u7528 {this.state.xx}\n    const pElem = <p>{this.state.name}</p>\n\n    // 2 \u8868\u8fbe\u5f0f \n    const exprElem = <p>{this.state.flag ? 'yes' : 'no'}</p>\n\n    // 3 \u6807\u7b7e\u52a8\u6001\u5c5e\u6027\n    const imgElem = <div>\n        <p>\u6211\u7684\u5934\u50cf</p>\n        <img src=\"xxxx.png\"/>\n        <img src={this.state.imgUrl}/>\n    </div>\n\n    // 4 \u5143\u7d20\u6837\u5f0f\u7c7b\u540d\n    const classElem = <p className=\"title\">\u8bbe\u7f6e css class</p>\n\n    // 5 \u884c\u5185\u6837\u5f0f\n    const styleData = { fontSize: '30px',  color: 'blue' }\n    const styleElem = <p style={styleData}>\u8bbe\u7f6e style</p>\n    // \u5185\u8054\u5199\u6cd5\uff0c\u6ce8\u610f {{ \u548c }}\n    const styleElem2 = <p style={{ fontSize: '30px',  color: 'blue' }}>\u8bbe\u7f6e style</p>\n\n    // 6 \u4fee\u6539\u539f\u751f html\n    const rawHtml = \"<span>\u5bcc\u6587\u672c\u5185\u5bb9<i>\u659c\u4f53</i><b>\u52a0\u7c97</b></span>\";\n    const rawHtmlData = {\n      __html: rawHtml, // \u6ce8\u610f\uff0c\u5fc5\u987b\u662f\u8fd9\u79cd\u683c\u5f0f {__html:'htmlstring'}\n    };\n    const rawHtmlElem = (\n      <div>\n        <p dangerouslySetInnerHTML={rawHtmlData}></p>\n        {/* \u2b07\u76f4\u63a5\u63d2\u503c \u6807\u7b7e\u662f\u660e\u6587 */}\n        <p>{rawHtml}</p>\n      </div>\n    );\n\n    // 7 \u4f7f\u7528\u7ec4\u4ef6 <\u7ec4\u4ef6\u540d>\n    const componentElem = <div>\n        <p>JSX \u4e2d\u52a0\u8f7d\u4e00\u4e2a\u7ec4\u4ef6</p>\n        <hr/>\n        <List/>\n    </div>\n    return componentElem\n  }\n}\n\nexport default JSXBaseDemo;\n\n")),(0,o.kt)("h2",{id:"\u5224\u65ad\u6761\u4ef6"},"\u5224\u65ad\u6761\u4ef6"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='ConditionDemo.js'",title:"'ConditionDemo.js'"},'import React from "react";\n\nclass ConditionDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {theme: "black",};\n  }\n  render() {\n    const blackBtn = <button className="btn-black">black btn</button>;\n    const whiteBtn = <button className="btn-white">white btn</button>;\n\n    // 1 if else \u4e00\u822c\u7528\u4e8e\u51fd\u6570\n    if (this.state.theme === \'black\') {\n        return blackBtn\n    } else {\n        return whiteBtn\n    }\n\n    // 2 \u4e09\u5143\u8fd0\u7b97\u7b26 \u4e00\u822c\u7528\u4e8ejsx\n    return <div>{ this.state.theme === \'black\' ? blackBtn : whiteBtn }</div>\n\n    // 3 && \u4e00\u822c\u7528\u4e8e\u552f\u4e00\u5224\u65ad\n    return <div>{this.state.theme === "black" && blackBtn}</div>;\n  }\n}\n\nexport default ConditionDemo;\n')),(0,o.kt)("h2",{id:"\u5217\u8868\u6e32\u67d3"},"\u5217\u8868\u6e32\u67d3"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"map \u4e0e key")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='ListDemo.js'",title:"'ListDemo.js'"},'import React from "react";\n\nclass ListDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [\n        {id: "id-1",title: "\u6807\u98981",},\n        {id: "id-2",title: "\u6807\u98982",},\n        {id: "id-3",title: "\u6807\u98983",},\n      ],\n    };\n  }\n  render() {\n    return <ul>\n      {\n        /* react \u7684 key \u548c vue v-for key \u7c7b\u4f3c\uff0c\u5fc5\u586b */\n        this.state.list.map((item, index) => \n        <li key={item.id}>index {index}; id {item.id}; title {item.title}</li>)\n      }\n    </ul>\n  }\n}\n\nexport default ListDemo;\n')),(0,o.kt)("h2",{id:"event"},"\u4e8b\u4ef6"),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"\u6ce8\u610f")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"bind this"),(0,o.kt)("li",{parentName:"ul"},"event\u53c2\u6570 / \u81ea\u5b9a\u4e49\u53c2\u6570")))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"\u4e8b\u4ef6\u7ed1\u5b9a")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},'import React from "react";\n\nclass EventDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: "zhangsan",\n      list: [\n        { id: "id-1", title: "\u6807\u98981",},\n        { id: "id-2", title: "\u6807\u98982",},\n        { id: "id-3", title: "\u6807\u98983",},\n      ],\n    };\n\n    // 1.1 \u4fee\u6539\u65b9\u6cd5\u7684 this \u6307\u5411\n    this.clickHandler1 = this.clickHandler1.bind(this);\n  }\n  render() {\n    return \n    <div>\n      {/* 1.1 this - \u4f7f\u7528 bind */}\n      <p onClick={this.clickHandler1}>{this.state.name}</p>\n\n      {/* 1.2 this - \u4f7f\u7528\u9759\u6001\u65b9\u6cd5 */}\n      <p onClick={this.clickHandler2}>clickHandler2 {this.state.name}</p>\n\n      {/* 2.1 event\u53c2\u6570 */}\n      <a href="https://imooc.com/" onClick={this.clickHandler3}>click me</a>\n\n      {/* 2.2 \u4f20\u9012\u53c2\u6570 - \u7528 bind(this, a, b) */}\n      <ul>\n        {this.state.list.map((item, index) => {\n          return (\n            <li\n              key={item.id}\n              onClick={this.clickHandler4.bind(this, item.id, item.title)}\n            >\n              index {index}; title {item.title}\n            </li>\n          );\n        })}\n      </ul>\n    <div>\n  }\n  // 1.1\n  clickHandler1() {\n    this.setState({ name: "lisi",});\n  }\n  // 1.2 \u9759\u6001\u65b9\u6cd5\uff0cthis \u6307\u5411\u5f53\u524d\u5b9e\u4f8b\n  clickHandler2 = () => {\n    this.setState({ name: "lisi",});\n  };\n  // 2.1 \u83b7\u53d6 event\n  clickHandler3 = (event) => {\n    event.preventDefault(); // \u963b\u6b62\u9ed8\u8ba4\u884c\u4e3a\n    event.stopPropagation(); // \u963b\u6b62\u5192\u6ce1\n    console.log("target", event.target); // \u6307\u5411\u5f53\u524d\u5143\u7d20\uff0c\u5373\u5f53\u524d\u5143\u7d20\u89e6\u53d1\n    console.log("current target", event.currentTarget); // \u6307\u5411\u5f53\u524d\u5143\u7d20\uff0c\u5047\u8c61\uff01\uff01\uff01\n\n    // \u6ce8\u610f\uff0cevent \u5176\u5b9e\u662f React \u5c01\u88c5\u7684\u3002\u53ef\u4ee5\u770b __proto__.constructor \u662f SyntheticEvent \u7ec4\u5408\u4e8b\u4ef6\n    console.log("event", event); // \u4e0d\u662f\u539f\u751f\u7684 Event \uff0c\u539f\u751f\u7684 MouseEvent\n    console.log("event.__proto__.constructor", event.__proto__.constructor);\n\n    // \u539f\u751f event \u5982\u4e0b\u3002\u5176 __proto__.constructor \u662f MouseEvent\n    console.log("nativeEvent", event.nativeEvent);\n    console.log("nativeEvent target", event.nativeEvent.target); // \u6307\u5411\u5f53\u524d\u5143\u7d20\uff0c\u5373\u5f53\u524d\u5143\u7d20\u89e6\u53d1\n    console.log("nativeEvent current target", event.nativeEvent.currentTarget); // \u6307\u5411 document \uff01\uff01\uff01\n\n    // 1. event \u662f SyntheticEvent \uff0c\u6a21\u62df\u51fa\u6765 DOM \u4e8b\u4ef6\u6240\u6709\u80fd\u529b\n    // 2. event.nativeEvent \u662f\u539f\u751f\u4e8b\u4ef6\u5bf9\u8c61\n    // 3. \u6240\u6709\u7684\u4e8b\u4ef6\uff0c\u90fd\u88ab\u6302\u8f7d\u5230 document \u4e0a \u8fdb\u884c\u4e8b\u4ef6\u4ee3\u7406\n    // 4. \u548c DOM \u4e8b\u4ef6\u4e0d\u4e00\u6837\uff0c\u548c Vue \u4e8b\u4ef6\u4e5f\u4e0d\u4e00\u6837\n  };\n  // 2.2 \u4f20\u9012\u81ea\u5b9a\u4e49\u53c2\u6570\n  clickHandler4(id, title, event) {\n    console.log(id, title);\n    console.log("event", event); // \u6700\u540e\u8ffd\u52a0\u4e00\u4e2a\u53c2\u6570\uff0c\u5373\u53ef\u63a5\u6536 event\n  }\n}\n\nexport default EventDemo;\n')))),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"React17")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"React 16 \u4e8b\u4ef6\u7ed1\u5b9a\u5230 document"),(0,o.kt)("li",{parentName:"ul"},"React 17 \u4e8b\u4ef6\u7ed1\u5b9a\u5230 root\u8282\u70b9",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"\u4fbf\u4e8e\u591a\u4e2aReact\u7248\u672c\u5e76\u5b58 \u5982\u5fae\u524d\u6bb5")))),(0,o.kt)("p",{parentName:"div"},(0,o.kt)("img",{loading:"lazy",alt:"difference",src:n(5122).Z,width:"3496",height:"2704"})))),(0,o.kt)("h2",{id:"\u8868\u5355"},"\u8868\u5355"),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"\u6ce8\u610f")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"\u53d7\u63a7\u7ec4\u4ef6"),(0,o.kt)("li",{parentName:"ul"},"input textarea select \u7528 value"),(0,o.kt)("li",{parentName:"ul"},"checkbox radio \u7528 checked")))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"form")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},'import React from "react";\n\nclass FormDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: "\u53cc\u8d8a", info: "\u4e2a\u4eba\u4fe1\u606f",\n      city: "beijing",\n      flag: true,\n      gender: "male",\n    };\n  }\n  render() {\n    return \n    <div>\n      {/* \u53d7\u63a7\u7ec4\u4ef6 */}\n      <p>{this.state.name}</p>\n      <label htmlFor="inputName">\u59d3\u540d\uff1a</label> {/* \u7528 htmlFor \u4ee3\u66ff for */}\n      <input id="inputName" value={this.state.name} onChange={this.onInputChange}/>\n\n      {/* textarea - \u4f7f\u7528 value */}\n      <textarea value={this.state.info} onChange={this.onTextareaChange} />\n      <p>{this.state.info}</p>\n\n      {/* select - \u4f7f\u7528 value */}\n      <select value={this.state.city} onChange={this.onSelectChange}>\n        <option value="beijing">\u5317\u4eac</option>\n        <option value="shanghai">\u4e0a\u6d77</option>\n        <option value="shenzhen">\u6df1\u5733</option>\n      </select>\n      <p>{this.state.city}</p>\n\n    {/* checkbox - \u4f7f\u7528 checked */}\n      <input type="checkbox" checked={this.state.flag} onChange={this.onCheckboxChange}/>\n      <p>{this.state.flag.toString()}</p>\n\n    {/* radio - \u4f7f\u7528 checked */}\n        male <input type="radio" name="gender" value="male" checked={this.state.gender === \'male\'} onChange={this.onRadioChange}/>\n        female <input type="radio" name="gender" value="female" checked={this.state.gender === \'female\'} onChange={this.onRadioChange}/>\n        <p>{this.state.gender}</p>\n    </div>\n  }\n  onInputChange = (e) => {this.setState({ name: e.target.value, });};\n  onTextareaChange = (e) => {this.setState({ info: e.target.value, });};\n  onSelectChange = (e) => { this.setState({ city: e.target.value, });};\n  onCheckboxChange = () => { this.setState({ flag: !this.state.flag, });};\n  onRadioChange = (e) => {this.setState({ gender: e.target.value, });};\n}\n\nexport default FormDemo;\n')))),(0,o.kt)("h2",{id:"props"},"\u7ec4\u4ef6\u548cprops"),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"\u6ce8\u610f")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"props \u4f20\u9012\u6570\u636e"),(0,o.kt)("li",{parentName:"ul"},"props \u4f20\u9012\u51fd\u6570"),(0,o.kt)("li",{parentName:"ul"},"props \u7c7b\u578b\u68c0\u67e5 prop-types")))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"\u7236\u5b50\u7ec4\u4ef6\u901a\u8baf")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)(s.Z,{mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"todoList",label:"TodoList",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="TodoListDemo.jsx"',title:'"TodoListDemo.jsx"'},'import React from "react";\nimport PropTypes from "prop-types"; // \u5b89\u88c5\u7c7b\u578b\u68c0\u67e5\nexport default class TodoListDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    // \u72b6\u6001\uff08\u6570\u636e\uff09\u63d0\u5347 \u6570\u636e\u548c\u63a7\u5236\u6570\u636e\u7684\u51fd\u6570\u90fd\u653e\u5728\u7236\u7ec4\u4ef6\n    this.state = {\n      list: [\n        {id: "id-1",title: "\u6807\u98981",},\n        {id: "id-2",title: "\u6807\u98982",},\n      ],\n      footerInfo: "\u5e95\u90e8\u6587\u5b57",\n    };\n  }\n  render() {\n    return (\n      <div>\n        <Input submitTitle={this.onSubmitTitle} />\n        <List list={this.state.list} />\n        <Footer text={this.state.footerInfo} length={this.state.list.length} />\n      </div>\n    );\n  }\n  onSubmitTitle = (title) => {\n    this.setState({list: this.state.list.concat({id: `id-${Date.now()}`,title,}),});\n  };\n}\n')),"  "),(0,o.kt)(r.Z,{value:"input",label:"Input",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="SCUDemo.jsx"',title:'"SCUDemo.jsx"'},'class Input extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {title: ""};\n  }\n  render() {\n    return (\n      <div>\n        <input value={this.state.title} onChange={this.onTitleChange} />\n        <button onClick={this.onSubmit}>\u63d0\u4ea4</button>\n      </div>\n    );\n  }\n  onTitleChange = (e) => {this.setState({title: e.target.value,});};\n  onSubmit = () => {\n    const { submitTitle } = this.props; // \u83b7\u53d6\u7236\u7ec4\u4ef6\u51fd\u6570\n    submitTitle(this.state.title); // \u8c03\u7528\u7236\u7ec4\u4ef6\u51fd\u6570\n    this.setState({title: ""});\n  };\n}\n// props \u7c7b\u578b\u68c0\u67e5\nInput.propTypes = {\n  submitTitle: PropTypes.func.isRequired,\n};\n')),"  "),(0,o.kt)(r.Z,{value:"list",label:"List",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='SCUDemo.jsx'",title:"'SCUDemo.jsx'"},"class List extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const { list } = this.props; // \u83b7\u53d6\u7236\u7ec4\u4ef6\u5c5e\u6027\n    return (\n      <ul>\n        {list.map((item, index) => (<li key={item.id}><span>{item.title}</span></li>}\n      </ul>\n    );\n  }\n}\n// props \u7c7b\u578b\u68c0\u67e5\nList.propTypes = {\n  list: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n")),"  "),(0,o.kt)(r.Z,{value:"footer",label:"Footer",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='SCUDemo.jsx'",title:"'SCUDemo.jsx'"},'class Footer extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (<p>{this.props.text} {this.props.length}</p>)\n  }\n  componentDidUpdate() {\n    console.log("footer did update");\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.text !== this.props.text || nextProps.length !== this.props.length) {\n      return true; // \u53ef\u4ee5\u6e32\u67d3\n    }\n    return false; // \u4e0d\u91cd\u590d\u6e32\u67d3\n  }\n\n  // Todolist\u66f4\u65b0\uff0cfooter\u4e5f\u66f4\u65b0\uff01\n  // \u4f18\u5316 \u53ea\u5f53\u7ec4\u4ef6\u76f8\u5173\u7684props\u6539\u53d8\u624d\u89e6\u53d1\u66f4\u65b0\n}\n')),"  ")))),(0,o.kt)("h2",{id:"setState"},"state / setState \u6700\u91cd\u8981"),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ol",{parentName:"div"},(0,o.kt)("li",{parentName:"ol"},"state \u5b9a\u4e49\u5728 constructor\u4e2d"),(0,o.kt)("li",{parentName:"ol"},"\u539f\u72b6\u6001\u4e0d\u53ef\u4fee\u6539 immutable"),(0,o.kt)("li",{parentName:"ol"},"setState \u4e0a\u4e0b\u6587 \u5f02\u6b65/\u540c\u6b65"),(0,o.kt)("li",{parentName:"ol"},"setState \u72b6\u6001 \u5408\u5e76/\u4e0d\u5408\u5e76")))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"setState")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import React from \"react\";\n\nclass StateDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    // 1 state \u8981\u5728\u6784\u9020\u51fd\u6570\u4e2d\u5b9a\u4e49\n    this.state = {count: 0,};\n  }\n  render() {\n    return (\n      <div>\n        <p>{this.state.count}</p> <button onClick={this.increase}>\u7d2f\u52a0</button>\n      </div>\n    );\n  }\n  increase = () => {\n    // 2 \u4e0d\u8981\u76f4\u63a5\u4fee\u6539 state \uff0c\u9075\u5faa\u4e0d\u53ef\u53d8\u503c ----------------------------\n    // this.state.count++ // \u9519\u8bef\n    this.setState({count: this.state.count + 1})\n\n    // 3 setState \u5f02\u6b65/\u540c\u6b65 ----------------------------\n\n    this.setState({count: this.state.count + 1}, () => {\n      // \u5bf9\u6bd4 Vue $nextTick - DOM\n      console.log('count by callback', this.state.count) // \u56de\u8c03\u51fd\u6570\u4e2d\u53ef\u4ee5\u62ff\u5230\u6700\u65b0\u7684 state\n    })\n    console.log('count', this.state.count) // \u5f02\u6b65\u7684\uff0c\u62ff\u4e0d\u5230\u6700\u65b0\u503c\n\n    // setTimeout \u4e2d setState \u662f\u540c\u6b65\u7684\n    setTimeout(() => {\n      this.setState({count: this.state.count + 1})\n      console.log('count in setTimeout', this.state.count)\n    }, 0)\n\n    // \u81ea\u5df1\u5b9a\u4e49\u7684 DOM \u4e8b\u4ef6\uff0csetState \u662f\u540c\u6b65\u7684\u3002\u518d componentDidMount \u4e2d\n\n    // 4 state \u5408\u5e76/\u4e0d\u5408\u5e76 setState\u7684\u53c2\u6570 ----------------------------\n\n    // \u4f20\u5165\u5bf9\u8c61\uff0c\u4f1a\u88ab\u5408\u5e76/\u8986\u76d6\uff08\u7c7b\u4f3c Object.assign \uff09\u3002\u6267\u884c\u7ed3\u679c\u53ea\u4e00\u6b21 +1\n    this.setState({count: this.state.count + 1})\n    this.setState({count: this.state.count + 1})\n    this.setState({count: this.state.count + 1})\n\n    // \u4f20\u5165\u51fd\u6570\uff0c\u4e0d\u4f1a\u88ab\u5408\u5e76/\u8986\u76d6 \u6267\u884c\u7ed3\u679c\u662f +3\n    this.setState((prevState, props) => ({count: prevState.count + 1}));\n    this.setState((prevState, props) => ({count: prevState.count + 1}));\n    this.setState((prevState, props) => ({count: prevState.count + 1}));\n  };\n\n  bodyClickHandler = () => {\n      this.setState({count: this.state.count + 1})\n      console.log('count in body event', this.state.count)\n  }\n  componentDidMount() {\n      // 3 \u81ea\u5df1\u5b9a\u4e49\u7684 DOM \u4e8b\u4ef6\uff0csetState \u662f\u540c\u6b65\u7684\n      document.body.addEventListener('click', this.bodyClickHandler)\n  }\n  componentWillUnmount() {\n      // 3 \u53ca\u65f6\u9500\u6bc1\u81ea\u5b9a\u4e49 DOM \u4e8b\u4ef6\n      document.body.removeEventListener('click', this.bodyClickHandler)\n      // 3 clearTimeout \u9500\u6bc1\u5b9a\u65f6\u5668\n  }\n}\n\nexport default StateDemo;\n\n// -------------------------- \u8bf7\u7528es6 \u6269\u5c55\u8fd0\u7b97\u7b26 -----------------------------\n\n// \u4e0d\u53ef\u53d8\u503c\uff08\u51fd\u6570\u5f0f\u7f16\u7a0b\uff0c\u7eaf\u51fd\u6570\uff09 - \u6570\u7ec4\nconst list5Copy = this.state.list5.slice()\nlist5Copy.splice(2, 0, 'a') // \u4e2d\u95f4\u63d2\u5165/\u5220\u9664\nthis.setState({\n    list1: this.state.list1.concat(100), // \u8ffd\u52a0\n    list2: [...this.state.list2, 100], // \u8ffd\u52a0\n    list3: this.state.list3.slice(0, 3), // \u622a\u53d6\n    list4: this.state.list4.filter(item => item > 100), // \u7b5b\u9009\n    list5: list5Copy // \u5176\u4ed6\u64cd\u4f5c\n})\n// \u6ce8\u610f\uff0c\u4e0d\u80fd\u76f4\u63a5\u5bf9 this.state.list \u8fdb\u884c push pop splice \u7b49\uff0c\u8fd9\u6837\u8fdd\u53cd\u4e0d\u53ef\u53d8\u503c\n\n// \u4e0d\u53ef\u53d8\u503c - \u5bf9\u8c61\nthis.setState({\n    obj1: Object.assign({}, this.state.obj1, {a: 100}),\n    obj2: {...this.state.obj2, a: 100}\n})\n// \u6ce8\u610f\uff0c\u4e0d\u80fd\u76f4\u63a5\u5bf9 this.state.obj \u8fdb\u884c\u5c5e\u6027\u8bbe\u7f6e\uff0c\u8fd9\u6837\u8fdd\u53cd\u4e0d\u53ef\u53d8\u503c\n\n")))),(0,o.kt)("h2",{id:"lifecycle"},"\u7ec4\u4ef6\u751f\u547d\u5468\u671f"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"constructor"),(0,o.kt)("li",{parentName:"ul"},"render"),(0,o.kt)("li",{parentName:"ul"},"componentDidMount"),(0,o.kt)("li",{parentName:"ul"},"shouldComponentUpdate"),(0,o.kt)("li",{parentName:"ul"},"componentDidUpdate"),(0,o.kt)("li",{parentName:"ul"},"componentWillUnmount")))}h.isMDXComponent=!0},5122:function(t,e,n){e.Z=n.p+"assets/images/react_17_event_delegation-5e98ede991b58022839bb38fdfc8a35b.png"}}]);